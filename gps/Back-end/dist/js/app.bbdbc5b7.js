(function(){"use strict";var e={1516:function(e,o,a){var t=a(3751),n=a(641),l=a(953),i=a(33);const s={class:"image-text"},r={class:"image"},c=["src"],A=["src"],u={key:0,class:"beta"},d={class:"menu-bar"},v={class:"menu"},p={class:"menu-links"},g={class:"nav-link"},m={class:"nav-link"},k={class:"nav-link"},L={class:"nav-link"},f={class:"nav-link"},h={class:"nav-link"},C={class:"nav-link"},b={class:"bottom-content"},w={class:"mode"},E={class:"mode-text text"};var y={__name:"BarraLateral",setup(e){const o=(0,l.KR)(!0),t=(0,l.KR)(!1);let y=(0,l.KR)("Dark mode");const B=(0,l.KR)(!1),I=(0,l.KR)(!1);function x(){o.value=!o.value,o.value&&(B.value=!1),o.value?I.value=!1:I.value=!0}function R(){t.value=!t.value,y.value=t.value?"Light mode":"Dark mode",document.body.classList.toggle("dark",t.value)}function S(e){const a=document.querySelector(".sidebar"),t=document.querySelector(".toggle"),n=document.querySelector(".dropdown2");a.contains(e.target)||t.contains(e.target)||n&&n.contains(e.target)||(o.value=!0,B.value=!1,I.value=!1)}document.addEventListener("click",S);const F=()=>{localStorage.removeItem("isAuthenticated"),window.location.reload()};function K(){B.value=!B.value}return(e,t)=>{const B=(0,n.g2)("router-link"),S=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)(n.FK,null,[t[11]||(t[11]=(0,n.Lk)("link",{href:"https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css",rel:"stylesheet"},null,-1)),t[12]||(t[12]=(0,n.Lk)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"},null,-1)),(0,n.Lk)("nav",{class:(0,i.C4)(["sidebar",{close:o.value}])},[(0,n.Lk)("header",null,[(0,n.Lk)("div",s,[(0,n.Lk)("span",r,[(0,n.Lk)("img",{src:a(8420),alt:"",class:"logo-claro"},null,8,c),(0,n.Lk)("img",{src:a(6220),alt:"",class:"logo-oscuro"},null,8,A)]),I.value?((0,n.uX)(),(0,n.CE)("span",u,t[0]||(t[0]=[(0,n.Lk)("h2",null,"beta",-1)]))):(0,n.Q3)("",!0),t[1]||(t[1]=(0,n.Lk)("div",{class:"logo-text"},[(0,n.Lk)("span",{class:"name"})],-1))]),(0,n.Lk)("i",{class:"bx bx-chevron-right toggle",onClick:x})]),(0,n.Lk)("div",d,[(0,n.Lk)("div",v,[(0,n.Lk)("ul",p,[(0,n.Lk)("li",g,[(0,n.bF)(B,{to:"/home"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.Lk)("i",{class:"bx bx-home-alt icon"},null,-1),(0,n.Lk)("span",{class:"text nav-text"},"Inicio",-1)]))),_:1})]),(0,n.Lk)("li",m,[(0,n.bF)(B,{to:"/dispositivo"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.Lk)("i",{class:"bx bx-car icon"},null,-1),(0,n.Lk)("span",{class:"text nav-text"},"Dispositivo",-1)]))),_:1})]),(0,n.Lk)("li",k,[(0,n.bF)(B,{to:"/tiempo_real"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.Lk)("i",{class:"bx bx-navigation icon"},null,-1),(0,n.Lk)("span",{class:"text nav-text"},"Tiempo real",-1)]))),_:1})]),(0,n.Lk)("li",L,[(0,n.bF)(B,{to:"/geozona"},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.Lk)("i",{class:"bx bx-map-alt icon"},null,-1),(0,n.Lk)("span",{class:"text nav-text"},"Geozonas",-1)]))),_:1})]),(0,n.Lk)("li",f,[(0,n.bF)(B,{to:"/rutas"},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.Lk)("i",{class:"bx bx-trending-up icon"},null,-1),(0,n.Lk)("span",{class:"text nav-text"},"Rutas",-1)]))),_:1})]),(0,n.Lk)("li",h,[(0,n.bF)(B,{to:"/historial"},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.Lk)("i",{class:"bx bx-history icon"},null,-1),(0,n.Lk)("span",{class:"text nav-text"},"Historial",-1)]))),_:1})]),(0,n.Lk)("li",C,[(0,n.bF)(B,{to:"/reporte2",onClick:K},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.Lk)("i",{class:"bx bxs-user-account icon"},null,-1),(0,n.Lk)("span",{class:"text nav-text"},"Reporte",-1)]))),_:1})])])]),(0,n.Lk)("div",b,[(0,n.Lk)("li",null,[(0,n.bF)(B,{to:"/cerrar-sesion"},{default:(0,n.k6)((()=>[(0,n.Lk)("i",{onClick:F,class:"bx bx-log-out icon"}),(0,n.Lk)("span",{class:"text nav-text",onClick:F},"Cerrar Sesión")])),_:1})]),(0,n.Lk)("li",w,[t[10]||(t[10]=(0,n.Lk)("div",{class:"sun-moon"},[(0,n.Lk)("i",{class:"bx bx-moon icon moon"}),(0,n.Lk)("i",{class:"bx bx-sun icon sun"})],-1)),(0,n.Lk)("span",E,(0,i.v_)((0,l.R1)(y)),1),(0,n.Lk)("div",{class:"toggle-switch",onClick:R},t[9]||(t[9]=[(0,n.Lk)("span",{class:"switch"},null,-1)]))])])])],2),(0,n.bF)(S)],64)}}};const B=y;var I=B,x=(a(4114),a(2325)),R=a.n(x),S=a(5220),F=a.p+"img/gps-tracking-demo.9d5b432a.jpg";const K={class:"modal-header"},D={class:"profile-image-container"},Q={class:"image-upload-label",title:"Change profile picture"};var N={__name:"PerfilCard",emits:["close"],setup(e,{emit:o}){const a=o,i=()=>{const e=document.querySelector(".modal-content");e.classList.add("fade-out"),setTimeout((()=>{a("close")}),300)},s=e=>{const o=e.target;if(o.files&&o.files[0]){const e=new FileReader;e.onload=e=>{if(e.target.result){const o=document.querySelector(".profile-image");o.style.backgroundImage=`url(${e.target.result})`}},e.readAsDataURL(o.files[0])}};(0,l.KR)(""),(0,l.KR)(!1);return(e,o)=>((0,n.uX)(),(0,n.Wv)(t.eB,{name:"modal-fade"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",{class:"modal-overlay",onClick:i},[(0,n.Lk)("div",{class:"modal-content",onClick:o[0]||(o[0]=(0,t.D$)((()=>{}),["stop"]))},[(0,n.Lk)("div",K,[(0,n.Lk)("div",D,[o[2]||(o[2]=(0,n.Lk)("div",{class:"profile-image"},null,-1)),(0,n.Lk)("label",Q,[(0,n.Lk)("input",{type:"file",onChange:s,accept:"image/*",class:"hidden-input"},null,32),o[1]||(o[1]=(0,n.Lk)("svg",{class:"edit-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[(0,n.Lk)("path",{d:"M12 5v14M5 12h14","stroke-width":"2","stroke-linecap":"round"})],-1))])]),(0,n.Lk)("button",{class:"close-button",onClick:i,"aria-label":"Close"},o[3]||(o[3]=[(0,n.Lk)("svg",{viewBox:"0 0 24 24"},[(0,n.Lk)("path",{d:"M6.225 4.811a1 1 0 00-1.414 1.414L10.586 12 4.81 17.775a1 1 0 101.414 1.414L12 13.414l5.775 5.775a1 1 0 001.414-1.414L13.414 12l5.775-5.775a1 1 0 00-1.414-1.414L12 10.586 6.225 4.81z"})],-1)]))]),o[4]||(o[4]=(0,n.Lk)("div",{class:"modal-body"},[(0,n.Lk)("h1",null,"Jesus Alvarez"),(0,n.Lk)("div",{class:"badge"},"Administrador"),(0,n.Lk)("p",{class:"bio"}," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Consectetur illum sapiente ")],-1))])])])),_:1}))}},U=a(6262);const T=(0,U.A)(N,[["__scopeId","data-v-7320e8aa"]]);var M=T;const J={class:"modal-body"},W={class:"form-group"},O={class:"form-group"},X={class:"form-group"};var j={__name:"PaswordC",emits:["close"],setup(e,{emit:o}){const a=o,i=(0,l.KR)(""),s=(0,l.KR)(""),r=(0,l.KR)(""),c=(0,l.KR)(""),A=()=>{s.value!==r.value||c.value?(console.log("Contraseña cambiada"),a("close")):R().fire({title:"Error",text:"Correo no ingresado",icon:"error"})},u=()=>{R().fire({title:"Agregar Correo",icon:"info",html:` \n      <input id="email" class="swal2-input" placeholder="Correo" value="${c.value}">\n      `,confirmButtonText:"OK",preConfirm:()=>{c.value=document.getElementById("email").value,console.log(c.value)}})},d=()=>{const e=document.querySelector(".modal-content");e.classList.add("fade-out"),setTimeout((()=>{a("close")}),300)};return(e,o)=>((0,n.uX)(),(0,n.Wv)(t.eB,{name:"modal-fade"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",{class:"modal-overlay",onClick:d},[(0,n.Lk)("div",{class:"modal-content",onClick:o[3]||(o[3]=(0,t.D$)((()=>{}),["stop"]))},[(0,n.Lk)("div",{class:"modal-header"},[o[5]||(o[5]=(0,n.Lk)("div",{class:"candado"},null,-1)),(0,n.Lk)("button",{class:"close-button",onClick:d,"aria-label":"Close"},o[4]||(o[4]=[(0,n.Lk)("svg",{viewBox:"0 0 24 24"},[(0,n.Lk)("path",{d:"M6.225 4.811a1 1 0 00-1.414 1.414L10.586 12 4.81 17.775a1 1 0 101.414 1.414L12 13.414l5.775 5.775a1 1 0 001.414-1.414L13.414 12l5.775-5.775a1 1 0 00-1.414-1.414L12 10.586 6.225 4.81z"})],-1)]))]),(0,n.Lk)("div",J,[(0,n.Lk)("form",{onSubmit:(0,t.D$)(A,["prevent"])},[(0,n.Lk)("div",W,[o[6]||(o[6]=(0,n.Lk)("label",{for:"current-password"},"Contraseña Actual",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password",id:"current-password","onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),required:""},null,512),[[t.Jo,i.value]])]),(0,n.Lk)("div",O,[o[7]||(o[7]=(0,n.Lk)("label",{for:"new-password"},"Nueva Contraseña",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password",id:"new-password","onUpdate:modelValue":o[1]||(o[1]=e=>s.value=e),required:""},null,512),[[t.Jo,s.value]])]),(0,n.Lk)("div",X,[o[8]||(o[8]=(0,n.Lk)("label",{for:"confirm-password"},"Confirmar Nueva Contraseña",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password",id:"confirm-password","onUpdate:modelValue":o[2]||(o[2]=e=>r.value=e),required:""},null,512),[[t.Jo,r.value]])]),(0,n.Lk)("button",{type:"submit",class:"action-button primary",onClick:(0,t.D$)(A,["prevent"])},"Cambiar Contraseña"),(0,n.Lk)("button",{type:"button",class:"action-button primary",onClick:u},"Agregar Correo")],32)])])])])),_:1}))}};const P=(0,U.A)(j,[["__scopeId","data-v-f60fd1f6"]]);var G=P,V=(a(8992),a(4520),a(7550),a(9568)),z=a.n(V);function _(e){const o=new Date(e),a=o.getFullYear(),t=String(o.getMonth()+1).padStart(2,"0"),n=String(o.getDate()).padStart(2,"0"),l=String(o.getHours()%12||12).padStart(2,"0"),i=String(o.getMinutes()).padStart(2,"0"),s=String(o.getSeconds()).padStart(2,"0"),r=o.getHours()>=12?"PM":"AM";return`${a}/${t}/${n} ${l}:${i}:${s} ${r}`}function Y(e){const o=new Date(e),a=300,t=new Date(o.getTime()+60*a*1e3);return t.toISOString()}const H={class:"notification-container"},q={class:"notification-header"},Z={class:"header-content"},$={class:"unread-count"},ee={key:0,class:"menu-panel"},oe={class:"menu-items"},ae={class:"notifications-wrapper"},te={class:"notification-content"},ne={class:"notification-text"},le={class:"notification-time"},ie=["onClick"];var se={__name:"NotificacionN",setup(e){const o=(0,l.KR)([]),a=(0,l.KR)(!1),s=()=>{a.value=!a.value},r=e=>{o.value[e].read=!0},c=async()=>{try{const e=await fetch("http://3.12.147.103/notificaciones");if(!e.ok){const o=await e.text();return void console.error("Error del servidor:",o)}const a=await e.json();console.log(a);const t=a.filter((e=>!o.value.some((o=>o._id===e._id))));t.length>0&&(o.value=[...o.value,...t]),o.value.sort(((e,o)=>new Date(o.notificationTime)-new Date(e.notificationTime)))}catch(e){console.error("Error al cargar notificaciones:",e)}},A=async()=>{try{await fetch("http://3.12.147.103/notificaciones",{method:"DELETE"}),o.value=[]}catch(e){console.error("Error al eliminar notificaciones:",e)}};return(0,n.sV)((()=>{c();let e=new WebSocket("ws://3.12.147.103");e.onmessage=e=>{const a=JSON.parse(e.data);o.value.some((e=>e._id===a._id))||o.value.push(a),e&&c()},e.onclose=()=>{console.log("WebSocket cerrado. Reintentando..."),setTimeout((()=>{const o=new WebSocket("ws://3.12.147.103");e=o}),5e3)},e.onerror=e=>{console.error("Error en WebSocket:",e)}})),(e,c)=>{const u=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",H,[(0,n.Lk)("div",q,[(0,n.Lk)("div",Z,[c[0]||(c[0]=(0,n.Lk)("h1",{class:"title"},[(0,n.Lk)("i",{class:"bx bx-bell"}),(0,n.eW)(" Notificaciones ")],-1)),(0,n.Lk)("span",$,(0,i.v_)(o.value.length),1)]),(0,n.Lk)("button",{class:(0,i.C4)(["menu-button",{active:a.value}]),onClick:s},c[1]||(c[1]=[(0,n.Lk)("i",{class:"bx bx-dots-vertical-rounded"},null,-1)]),2)]),(0,n.bF)(t.eB,{name:"fade"},{default:(0,n.k6)((()=>[a.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"menu-overlay",onClick:s})):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(t.eB,{name:"slide"},{default:(0,n.k6)((()=>[a.value?((0,n.uX)(),(0,n.CE)("div",ee,[c[4]||(c[4]=(0,n.Lk)("div",{class:"menu-header"},"Opciones",-1)),(0,n.Lk)("div",oe,[(0,n.Lk)("a",{href:"#",onClick:(0,t.D$)(A,["prevent"]),class:"menu-item"},c[2]||(c[2]=[(0,n.Lk)("i",{class:"bx bx-trash"},null,-1),(0,n.Lk)("span",null,"Limpiar todo",-1)])),(0,n.bF)(u,{to:"/reporte2",class:"menu-item"},{default:(0,n.k6)((()=>c[3]||(c[3]=[(0,n.Lk)("i",{class:"bx bx-folder-open"},null,-1),(0,n.Lk)("span",null,"Ver historial",-1)]))),_:1})])])):(0,n.Q3)("",!0)])),_:1}),(0,n.Lk)("div",ae,[(0,n.bF)(t.F,{name:"notification",tag:"ul",class:"notifications-list"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.value,((e,o)=>((0,n.uX)(),(0,n.CE)("li",{key:o,class:(0,i.C4)(["notification-item",{unread:!e.read}])},[c[6]||(c[6]=(0,n.Lk)("div",{class:"notification-icon"},[(0,n.Lk)("i",{class:"bx bx-message-rounded-dots"})],-1)),(0,n.Lk)("div",te,[(0,n.Lk)("div",ne,(0,i.v_)(e.notificationName),1),(0,n.Lk)("div",le,(0,i.v_)((0,l.R1)(_)((0,l.R1)(Y)(e.notificationTime))),1)]),(0,n.Lk)("button",{class:"notification-action",onClick:e=>r(o)},c[5]||(c[5]=[(0,n.Lk)("i",{class:"bx bx-check"},null,-1)]),8,ie)],2)))),128))])),_:1})])])}}};const re=(0,U.A)(se,[["__scopeId","data-v-2f208573"]]);var ce=re;const Ae={class:"navar"},ue={class:"text"},de={class:"titulo"},ve={class:"actions"},pe={class:"dropdown"},ge="Navify";var me={__name:"NavBar",setup(e){const o=(0,l.KR)(!1),a=(0,l.KR)(!1),s=(0,l.KR)(!1),r=(0,l.KR)(!1),c=(0,l.KR)("");let A,u=0,d=!1;const v=()=>{o.value=!o.value},p=()=>{a.value=!a.value,o.value&&(o.value=!1)},g=()=>{s.value=!s.value,o.value&&(o.value=!1)},m=()=>{r.value=!r.value},k=()=>{const e=u;if(!d&&e<ge.length){if(c.value=ge.slice(0,e+1),u++,u===ge.length)return void(A=setTimeout((()=>{d=!0,k()}),5e3))}else d&&e>0?(c.value=ge.slice(0,e-1),u--):(d=!1,u=0);const o=d?100:200;A=setTimeout(k,o)};return(0,n.hi)((()=>{clearTimeout(A)})),(0,n.sV)((()=>{k()})),(e,l)=>{const A=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",Ae,[(0,n.Lk)("div",ue,[(0,n.Lk)("h1",de,(0,i.v_)(c.value),1)]),(0,n.Lk)("div",ve,[(0,n.bF)(A,{to:"#",onClick:(0,t.D$)(m,["prevent"])},{default:(0,n.k6)((()=>l[0]||(l[0]=[(0,n.Lk)("button",{class:"notification-btn"},[(0,n.Lk)("i",{class:"bx bx-bell"}),(0,n.Lk)("span",{class:"notification-indicator"})],-1)]))),_:1}),(0,n.Lk)("div",pe,[(0,n.Lk)("button",{class:"dropbtn",onClick:v},l[1]||(l[1]=[(0,n.Lk)("i",{class:"bx bx-cog confi"},null,-1),(0,n.eW)(" Configuración "),(0,n.Lk)("i",{class:"bx bx-chevron-down"},null,-1)])),(0,n.Lk)("div",{class:(0,i.C4)(["dropdown-content",{show:o.value}])},[(0,n.bF)(A,{to:"#",class:"dropdown-item",onClick:(0,t.D$)(p,["prevent"])},{default:(0,n.k6)((()=>l[2]||(l[2]=[(0,n.Lk)("i",{class:"bx bx-user-circle"},null,-1),(0,n.Lk)("span",null,"Perfil",-1)]))),_:1}),(0,n.bF)(A,{to:"#",class:"dropdown-item",onClick:(0,t.D$)(g,["prevent"])},{default:(0,n.k6)((()=>l[3]||(l[3]=[(0,n.Lk)("i",{class:"bx bx-lock-alt"},null,-1),(0,n.Lk)("span",null,"Contraseña",-1)]))),_:1}),(0,n.bF)(A,{to:"/privacidad",class:"dropdown-item"},{default:(0,n.k6)((()=>l[4]||(l[4]=[(0,n.Lk)("i",{class:"bx bx-user-x"},null,-1),(0,n.Lk)("span",null,"Privacidad",-1)]))),_:1})],2)])])]),a.value?((0,n.uX)(),(0,n.Wv)(M,{key:0,onClose:p})):(0,n.Q3)("",!0),s.value?((0,n.uX)(),(0,n.Wv)(G,{key:1,onClose:g})):(0,n.Q3)("",!0),r.value?((0,n.uX)(),(0,n.Wv)(ce,{key:2,onClose:m})):(0,n.Q3)("",!0)],64)}}};const ke=(0,U.A)(me,[["__scopeId","data-v-6ce42698"]]);var Le=ke;const fe={class:"home"};var he={__name:"HomeView",setup(e){const o=()=>{const e=document.querySelector("#home2");e&&e.scrollIntoView({behavior:"smooth"})};return(e,a)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("section",fe,[a[2]||(a[2]=(0,n.Lk)("div",{class:"overlay"},null,-1)),(0,n.bF)(Le),(0,n.Lk)("div",{class:"hero"},[a[0]||(a[0]=(0,n.Lk)("h1",{class:"hero-title"},"Sistema de Rastreo GPS Avanzado",-1)),a[1]||(a[1]=(0,n.Lk)("p",{class:"hero-subtitle"},"Monitoreo preciso y eficiente para optimizar tu flota de transporte",-1)),(0,n.Lk)("button",{class:"btn-cta",onClick:o},"Descubre la Revolución del Rastreo")])]),a[3]||(a[3]=(0,n.Fv)('<section class="home" id="home2" data-v-618d1226><div class="features" data-v-618d1226><div class="feature-card" data-v-618d1226><i class="bx bx-bus" data-v-618d1226></i><h3 data-v-618d1226>Gestión Eficiente de Flota</h3><p data-v-618d1226>Optimiza rutas y reduce costos operativos hasta en un 25%</p></div><div class="feature-card" data-v-618d1226><i class="bx bx-time-five" data-v-618d1226></i><h3 data-v-618d1226>Puntualidad Mejorada</h3><p data-v-618d1226>Aumenta la precisión de los horarios de llegada en un 30%</p></div><div class="feature-card" data-v-618d1226><i class="bx bx-shield-quarter" data-v-618d1226></i><h3 data-v-618d1226>Seguridad del Pasajero</h3><p data-v-618d1226>Monitoreo en tiempo real para una experiencia de viaje más segura</p></div></div><div class="promo-section" data-v-618d1226><h2 data-v-618d1226>¿Por qué elegir nuestro Sistema de Rastreo GPS?</h2><div class="promo-content" data-v-618d1226><div class="promo-text" data-v-618d1226><ul data-v-618d1226><li data-v-618d1226>Optimiza rutas y reduce el consumo de combustible hasta en un 20%</li><li data-v-618d1226>Mejora la puntualidad de los buses en un 30%</li><li data-v-618d1226>Monitorea el comportamiento de los conductores para aumentar la seguridad</li><li data-v-618d1226>Proporciona información en tiempo real a los pasajeros sobre llegadas y salidas</li><li data-v-618d1226>Facilita el mantenimiento preventivo para reducir tiempos de inactividad</li></ul></div><div class="promo-image" data-v-618d1226><img src="'+F+'" alt="Demo del sistema de rastreo GPS" data-v-618d1226></div></div></div></section>',1))],64))}};const Ce=(0,U.A)(he,[["__scopeId","data-v-618d1226"]]);var be=Ce,we=(a(1454),a(3481)),Ee=a.n(we),ye=a(8249),Be=a(7024),Ie=a(1071),xe=a(4335);const Re={class:"home"},Se={class:"tituloo"},Fe={class:"hone"},Ke={class:"group"},De={class:"device-list-container"},Qe={class:"device-list"},Ne=["onClick"],Ue={class:"cuadro"},Te={class:"control-container"},Me={key:0},Je={class:"button-container"};var We={__name:"TiempoReal",setup(e){let o;delete Ee().Icon.Default.prototype._getIconUrl,Ee().Icon.Default.mergeOptions({iconRetinaUrl:ye,iconUrl:Be,shadowUrl:Ie});const a=(0,l.KR)(""),s=(0,l.KR)(""),r=(0,l.KR)(0),c=(0,l.KR)(""),A=(0,l.KR)(""),u=((0,l.KR)(!1),(0,l.KR)("")),d=(0,l.KR)([]),v=(0,l.KR)([]);let p=null;function g(){var e={lat:10.9685,lng:-74.7813};const a={center:e,zoom:12.4};o=Ee().map("map").setView([e.lat,e.lng],a.zoom),Ee().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o)}function m(){const e=u.value.toLowerCase();v.value=d.value.filter((o=>o.deviceName.toLowerCase().includes(e)))}async function k(e){const{lat:t,lon:n,fixTime:l,speed:i,ignition:u,charging:d,deviceName:v}=e;if(void 0===t||void 0===n)return console.error("Latitud o longitud no definida"),void R().fire({title:"Error",text:"No se pudo obtener la ubicación del dispositivo.",icon:"error",confirmButtonText:"OK"});if(!o)return void console.error("El mapa no está inicializado");o.eachLayer((e=>{e instanceof Ee().Marker&&o.removeLayer(e)})),a.value=v,s.value=l,r.value=i,c.value=u?"Sí":"No",A.value=d?"Sí":"No",o.setView([t,n],18);Ee().marker([t,n]).addTo(o);o.invalidateSize(),setTimeout((()=>{o.setView([t,n],18),o.invalidateSize()}),100),console.log("Marcador añadido y mapa centrado"),R().close()}async function L(e){const o=await fetch(`http://3.12.147.103/devices/status/${e.imei}`);if(!o.ok)throw new Error("Error en la respuesta de la API");const a=await o.json();k(a),p&&p.close(),p=new WebSocket("ws://3.12.147.103"),p.onopen=()=>{console.log("Conectado al servidor WebSocket"),p.send(JSON.stringify({imei:e.imei}))},p.onmessage=e=>{const o=JSON.parse(e.data);void 0!==o.lat&&void 0!==o.lon?k(o):console.error("Datos de ubicación no definidos")},p.onclose=()=>{console.log("Desconectado del servidor WebSocket")},p.onerror=e=>{console.error("Error en la conexión WebSocket:",e),R().fire({title:"Error",text:"No se pudo establecer la conexión con el servidor WebSocket.",icon:"error",confirmButtonText:"OK"})}}const f=async e=>{try{const o=await xe.A.get(`http://3.12.147.103/send-command/${e}`);console.log(o.data),R().fire({title:"Comando Enviado",text:`El comando ${e} ha sido enviado al GPS.`,icon:"success",confirmButtonText:"OK"})}catch(o){console.error("Error al enviar el comando:",o.message),R().fire({title:"Error",text:`Hubo un error al enviar el comando ${e}.`,icon:"error",confirmButtonText:"OK"})}},h=e=>{console.log(JSON.stringify(e,null,2)),R().fire({title:"Detalles del Dispositivo",html:`\n      <p><strong>Nombre:</strong> ${e.deviceName}</p>\n      <p><strong>Responsable:</strong> ${e.responsible}</p>\n      <p><strong>IMEI:</strong> ${e.imei}</p>\n      <p><strong>Estado:</strong> ${e.status}</p>\n    `,confirmButtonText:"Mostrar en Mapa",showCancelButton:!0,cancelButtonText:"Cancelar"}).then((o=>{if(o.isConfirmed){L(e);const o=document.querySelector(".cuadro");o.style.display="flex"}else R().close()}))},C=async()=>{try{const e=await fetch("http://3.12.147.103/devices");if(!e.ok)throw new Error("Error en la respuesta de la API");const o=await e.json();console.log(o),d.value=o,v.value=d.value}catch(e){console.error("Error al cargar dispositivos:",e)}};return(0,n.hi)((()=>{p&&p.close()})),(0,n.sV)((()=>{g(),C()})),(e,o)=>((0,n.uX)(),(0,n.CE)("section",Re,[o[13]||(o[13]=(0,n.Lk)("div",{class:"overlay"},null,-1)),(0,n.bF)(Le),(0,n.Lk)("div",Se,[(0,n.Lk)("div",Fe,[o[5]||(o[5]=(0,n.Lk)("h1",null,"Lista de Dispositivos",-1)),(0,n.Lk)("div",Ke,[o[3]||(o[3]=(0,n.Lk)("svg",{class:"icon","aria-hidden":"true",viewBox:"0 0 24 24"},[(0,n.Lk)("g",null,[(0,n.Lk)("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"})])],-1)),(0,n.bo)((0,n.Lk)("input",{placeholder:"Buscar",type:"search",class:"input","onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),onInput:m},null,544),[[t.Jo,u.value]])]),(0,n.Lk)("div",De,[(0,n.Lk)("ul",Qe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(v.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e._id,onClick:o=>h(e)},[o[4]||(o[4]=(0,n.Lk)("i",{class:"bx bxs-car"},null,-1)),(0,n.eW)(" "+(0,i.v_)(e.deviceName),1)],8,Ne)))),128))])])]),o[6]||(o[6]=(0,n.Lk)("div",{class:"hone2"},[(0,n.Lk)("h1",null,"Dispositivo")],-1)),o[7]||(o[7]=(0,n.Lk)("div",{id:"map",class:"map-container"},null,-1))]),(0,n.Lk)("div",Ue,[(0,n.Lk)("div",Te,[(0,n.Lk)("p",null,[o[8]||(o[8]=(0,n.eW)("Dispositivo: ")),(0,n.Lk)("span",null,(0,i.v_)(a.value),1)]),s.value?((0,n.uX)(),(0,n.CE)("p",Me,[o[9]||(o[9]=(0,n.eW)("Tiempo: ")),(0,n.Lk)("span",null,(0,i.v_)((0,l.R1)(_)((0,l.R1)(Y)(s.value))),1)])):(0,n.Q3)("",!0),(0,n.Lk)("p",null,[o[10]||(o[10]=(0,n.eW)("Velocidad: ")),(0,n.Lk)("span",null,(0,i.v_)(r.value)+" km/h",1)]),(0,n.Lk)("p",null,[o[11]||(o[11]=(0,n.eW)("Encendido: ")),(0,n.Lk)("span",null,(0,i.v_)(c.value),1)]),(0,n.Lk)("p",null,[o[12]||(o[12]=(0,n.eW)("Cargando: ")),(0,n.Lk)("span",null,(0,i.v_)(A.value),1)]),(0,n.Lk)("div",Je,[(0,n.Lk)("button",{onClick:o[1]||(o[1]=e=>f(0))},"Apagar"),(0,n.Lk)("button",{onClick:o[2]||(o[2]=e=>f(1))},"Encender")])])])]))}};const Oe=(0,U.A)(We,[["__scopeId","data-v-029e8562"]]);var Xe=Oe;a(3949),a(5010),a(5980);const je={class:"home"},Pe={class:"tituloo"},Ge={class:"hone"},Ve={class:"group"},ze={class:"device-list-container"},_e={class:"device-list"},Ye=["onClick"],He={class:"modal-content"},qe={key:1,class:"modal"},Ze={class:"modal-content"},$e={class:"device-list-modal"},eo=["checked","onClick"],oo="Navify";var ao={__name:"GeozonasView",setup(e){const o=(0,l.KR)(null),a=(0,l.KR)(new we.FeatureGroup),s=(0,l.KR)(""),r=(0,l.KR)([]),c=(0,l.KR)([]),A=(0,l.KR)(null),u=(0,l.KR)({}),d=((0,l.KR)(!1),(0,l.KR)(""));let v,p=0,g=!1,m=null,k=null;(0,l.KR)("");const L=(0,l.KR)(!1),f=(0,l.KR)(!1),h=(0,l.KR)(""),C=(0,l.KR)([]),b=(0,l.KR)([]);delete we.Icon.Default.prototype._getIconUrl,we.Icon.Default.mergeOptions({iconRetinaUrl:ye,iconUrl:Be,shadowUrl:Ie});const w=()=>{const e=p;if(!g&&e<oo.length){if(d.value=oo.slice(0,e+1),p++,p===oo.length)return void(v=setTimeout((()=>{g=!0,w()}),5e3))}else g&&e>0?(d.value=oo.slice(0,e-1),p--):(g=!1,p=0);const o=g?100:200;v=setTimeout(w,o)},E=e=>{const{lat:a,lon:t,fixTime:n,speed:l,ignition:i,charging:s,deviceName:r}=e;if(void 0===a||void 0===t)return console.error("Latitud o longitud no definida"),void R().fire({title:"Error",text:"No se pudo obtener la ubicación del dispositivo.",icon:"error",confirmButtonText:"OK"});if(!o.value)return void console.error("El mapa no está inicializado");o.value.eachLayer((e=>{e instanceof we.Marker&&o.value.removeLayer(e)}));const c=we.marker([a,t]).addTo(o.value);c.bindPopup(`\n    <b>${r}</b><br>\n    Tiempo: ${new Date(n).toLocaleString()}<br>\n    Velocidad: ${l} km/h <br>\n  `).openPopup(),o.value.invalidateSize(),setTimeout((()=>{o.value&&(o.value.setView([a,t],18),o.value.invalidateSize())}),100),console.log("Marcador añadido y mapa centrado"),R().close()},y=async e=>{try{console.log(`Solicitando datos desde ${e}`);const o=await xe.A.get(e);return console.log(`Datos recibidos de ${e}:`,o.data),o.data}catch(o){return console.error(`Error al obtener datos de ${e}:`,o),R().fire("Error",`No se pudieron cargar los datos: ${o.message}`,"error"),[]}},B=async()=>{b.value=await y("http://3.12.147.103/devices"),console.log("Dispositivos cargados:",b.value)},I=async()=>{r.value=await y("http://3.12.147.103/geozone/geozones"),c.value=r.value,console.log("Geozonas cargadas:",r.value)};async function x(e){try{const o=await fetch(`http://3.12.147.103/devices/status/${e.imei}`);if(!o.ok)throw new Error("Error en la respuesta de la API");const a=await o.json();E(a)}catch(o){console.error("Error al iniciar el seguimiento:",o),alert("Hubo un problema al iniciar el seguimiento del dispositivo. Por favor, inténtalo de nuevo más tarde.")}}const S=()=>{o.value||(o.value=we.map("map").setView([10.96854,-74.78132],12),we.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(o.value),a.value.addTo(o.value),o.value.pm.addControls({position:"topright",drawPolygon:!0,drawPolyline:!0,drawRectangle:!0,drawCircle:!0,drawCircleMarker:!1,drawMarker:!1,editMode:!0,deleteMode:!0,createZone:!0}),o.value.on("pm:create",F),o.value.on("pm:create",(e=>{const o=e.layer;a.value.addLayer(o),o instanceof we.Circle?(k={center:o.getLatLng(),radius:o.getRadius()},console.log("Circunferencia creada - Centro:",k.center,"Radio:",k.radius)):(k=o.getLatLngs(),console.log("Coordenadas de la geozona creada:",k)),L.value=!0})),o.value.on("pm:remove",(e=>{console.log("Forma eliminada:",e.layer)})))},F=e=>{const o=e.layer;a.value.addLayer(o),k=o instanceof we.Circle?{center:o.getLatLng(),radius:o.getRadius(),type:"Circle"}:{vertices:o.getLatLngs()[0],type:"Polygon"},console.log("Coordenadas creadas:",k),L.value=!0},K=e=>{if(!o.value)return void console.error("El mapa no está inicializado");let t;if(a.value.clearLayers(),"Circle"===e.type){const a=we.latLng(e.center.lat,e.center.lng);t=we.circle(a,{radius:e.radius}).addTo(o.value),o.value.setView(a,15)}else if("Polygon"===e.type){const a=e.vertices.map((e=>[e.lat,e.lng]));t=we.polygon(a).addTo(o.value),o.value.fitBounds(t.getBounds())}a.value.addLayer(t),t._permanent=!0},D=e=>{A.value=e,u.value[e.id]?u.value[e.id].forEach((e=>{a.value.addLayer(e)})):K(e)},Q=(0,n.EW)((()=>{const e=s.value.toLowerCase();return r.value.filter((o=>o.name.toLowerCase().includes(s.value.toLowerCase(e))))})),N=()=>{L.value=!1,k=null},U=()=>{f.value=!1,C.value=[]},T=e=>{const o=C.value.indexOf(e);o>-1?C.value.splice(o,1):C.value.push(e),console.log("Dispositivos seleccionados:",C.value)},M=async()=>{let e;e=k.center?{name:h.value,type:"Circle",center:{lat:k.center.lat,lng:k.center.lng},radius:k.radius}:{name:h.value,type:"Polygon",vertices:k[0].map((e=>({lat:e.lat,lng:e.lng})))};try{const o=await xe.A.post("http://3.12.147.103/geozone/geozones",e);console.log("Geozona guardada:",o.data),A.value=o.data,R().fire({title:"Geozona guardada",text:"La geozona ha sido guardada exitosamente. Ahora selecciona los dispositivos.",icon:"success"}).then((()=>{L.value=!1,f.value=!0}))}catch(o){console.error("Error al crear la geozona:",o.response?o.response.data:o.message),R().fire({title:"Error",text:`Hubo un error al crear la geozona: ${o.response?JSON.stringify(o.response.data):o.message}`,icon:"error"})}},J=async()=>{if(0!==C.value.length)try{const e=C.value.map((e=>e.imei)),o={name:A.value.name,imeis:e};console.log("Datos de la geozona a enviar con dispositivos:",o);const a=await xe.A.put(`http://3.12.147.103/devices/geozones/${A.value._id}`,o);console.log("Geozona y dispositivos asignados guardados:",a.data),R().fire({title:"Geozona actualizada",text:"La geozona y los dispositivos han sido actualizados exitosamente.",icon:"success"}).then((()=>{N()}))}catch(e){console.error("Error al actualizar la geozona y los dispositivos:",e),R().fire({title:"Error",text:"Hubo un error al actualizar la geozona y los dispositivos.",icon:"error"})}else R().fire({icon:"warning",title:"Sin selección",text:"Por favor, selecciona al menos un dispositivo para asignar a la geozona."})},W=setInterval((()=>{x(O)}),2e3),O={imei:"863829070233398"};return(0,n.sV)((()=>{B(),S(),I(),w(),x(O)})),(0,n.hi)((()=>{clearInterval(W),clearTimeout(v),m&&o.value.removeControl(m)})),(e,o)=>((0,n.uX)(),(0,n.CE)("section",je,[o[9]||(o[9]=(0,n.Lk)("div",{class:"overlay"},null,-1)),(0,n.bF)(Le),o[10]||(o[10]=(0,n.Lk)("div",{class:"hone2"},[(0,n.Lk)("h1",null,"Geozona")],-1)),(0,n.Lk)("div",Pe,[(0,n.Lk)("div",Ge,[o[5]||(o[5]=(0,n.Lk)("h1",null,"Crear Geozonas",-1)),(0,n.Lk)("div",Ve,[o[3]||(o[3]=(0,n.Lk)("svg",{class:"icon","aria-hidden":"true",viewBox:"0 0 24 24"},[(0,n.Lk)("g",null,[(0,n.Lk)("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"})])],-1)),(0,n.bo)((0,n.Lk)("input",{placeholder:"Buscar",type:"search",class:"input","onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),onInput:o[1]||(o[1]=(...e)=>Q.value&&Q.value(...e))},null,544),[[t.Jo,s.value]])]),(0,n.Lk)("div",ze,[(0,n.Lk)("ul",_e,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.value,(e=>((0,n.uX)(),(0,n.CE)("li",{onClick:o=>D(e),key:e._id},[o[4]||(o[4]=(0,n.Lk)("i",{class:"bx bxs-car"},null,-1)),(0,n.eW)(" "+(0,i.v_)(e.name),1)],8,Ye)))),128))])])]),o[6]||(o[6]=(0,n.Lk)("div",{id:"map",class:"map-container"},null,-1))]),L.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal",onClick:(0,t.D$)(N,["self"])},[(0,n.Lk)("div",He,[(0,n.Lk)("span",{class:"close",onClick:N},"×"),o[7]||(o[7]=(0,n.Lk)("h2",null,"Guardar Geozona",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>h.value=e),placeholder:"Nombre de la geozona",class:"inputt",onKeyup:(0,t.jR)(M,["enter"])},null,544),[[t.Jo,h.value]]),(0,n.Lk)("div",{class:"modal-actions"},[(0,n.Lk)("button",{onClick:N},"Cerrar"),(0,n.Lk)("button",{onClick:M},"Guardar Geozona")])])])):(0,n.Q3)("",!0),f.value?((0,n.uX)(),(0,n.CE)("div",qe,[(0,n.Lk)("div",Ze,[(0,n.Lk)("span",{class:"close",onClick:U},"×"),o[8]||(o[8]=(0,n.Lk)("h2",null,"Seleccionar Dispositivo",-1)),(0,n.Lk)("ul",$e,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(b.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"device-item"},[(0,n.Lk)("input",{type:"checkbox",checked:C.value.includes(e),onClick:(0,t.D$)((o=>T(e)),["stop"])},null,8,eo),(0,n.eW)(" "+(0,i.v_)(e.deviceName),1)])))),128))]),(0,n.Lk)("button",{onClick:J,class:"create-button"},"Crear Geozona")])])):(0,n.Q3)("",!0)]))}};const to=(0,U.A)(ao,[["__scopeId","data-v-dea3dd86"]]);var no=to;const lo={class:"home"},io={class:"arribaBp"},so={id:"play-content",class:"play-content"},ro={class:"player-controls"},co={class:"tituloo"},Ao={class:"hone"},uo={class:"group"},vo={class:"device-list-container"},po={class:"device-list"},go=["onClick"],mo=1e3,ko="Navify";var Lo={__name:"HistorialView",setup(e){let o,a,s,r;delete Ee().Icon.Default.prototype._getIconUrl,Ee().Icon.Default.mergeOptions({iconRetinaUrl:ye,iconUrl:Be,shadowUrl:Ie});const c=(0,l.KR)("");let A,u=0,d=!1;(0,l.KR)(!1);const v=(0,l.KR)(""),p=(0,l.KR)([]),g=(0,l.KR)([]),m=()=>{const e=u;if(!d&&e<ko.length){if(c.value=ko.slice(0,e+1),u++,u===ko.length)return void(A=setTimeout((()=>{d=!0,m()}),5e3))}else d&&e>0?(c.value=ko.slice(0,e-1),u--):(d=!1,u=0);const o=d?100:200;A=setTimeout(m,o)};function k(){var e={lat:10.9685,lng:-74.7813};const a={center:e,zoom:12.4};o=Ee().map("map").setView([e.lat,e.lng],a.zoom),Ee().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o)}function L(){const e=v.value.toLowerCase();g.value=p.value.filter((o=>o.deviceName.toLowerCase().includes(e)))}const f=e=>{console.log("IMEI del dispositivo:",e.imei),R().fire({title:"Seleccionar rango de fechas y horas",html:'<label for="start-date">Fecha inicial:</label><input type="date" id="start-date" class="swal2-input"><label for="start-time">Hora inicial:</label><input type="time" id="start-time" class="swal2-input"><label for="end-date">Fecha fin:</label><input type="date" id="end-date" class="swal2-input"><label for="end-time">Hora fin:</label><input type="time" id="end-time" class="swal2-input">',width:"60%",confirmButtonText:"Ver Historial",showCancelButton:!0,cancelButtonText:"Cancelar",preConfirm:()=>{const e=document.getElementById("start-date").value,o=document.getElementById("start-time").value,a=document.getElementById("end-date").value,t=document.getElementById("end-time").value;if(console.log(e),console.log(o),!e||!o||!a||!t)return R().showValidationMessage("Por favor ingrese todas las fechas y horas"),null;const n=new Date(`${e}T${o}:00.000Z`).toISOString(),l=new Date(`${a}T${t}:00.000Z`).toISOString();return console.log(n),console.log(l),{startDate:n,endDate:l}}}).then((o=>{o.isConfirmed&&h(e,o.value.startDate,o.value.endDate)}))},h=async(e,t,n)=>{if(console.log("IMEI del dispositivo:",e.imei),!e||!e._id)return console.error("ID del dispositivo no válido:",e),void R().fire({title:"Error",text:"No se puede obtener el historial del dispositivo.",icon:"error",confirmButtonText:"Entendido"});try{const l=await xe.A.get(`http://3.12.147.103/devices/history/${e.imei}`,{params:{startDate:t,endDate:n}}),i=l.data;if(!Array.isArray(i)||0===i.length)throw new Error("No se encontraron datos de historial.");console.log("Datos de historial recibidos:",i);const r=i.map((e=>[e.lat,e.lon]));a&&o.removeLayer(a),a=Ee().polyline(r,{color:"red"}).addTo(o),s&&o.removeLayer(s),s=Ee().marker(r[0]).addTo(o).bindPopup("Inicio");const c=o=>{const{lat:a,lon:t,fixTime:n,speed:l,ignition:r,charging:c}=i[o];let A;s.setLatLng([a,t]);try{A=_(Y(n))}catch(u){console.error("Error al formatear la fecha:",u),A="Fecha inválida"}s.bindPopup(`\n    <b>${e.deviceName}</b><br>\n    Tiempo: ${A}<br>\n    Velocidad: ${l} km/h <br>\n    Encendido: ${r}<br>\n    Cargando: ${c}<br>\n  `).openPopup()};let A=0;const u=setInterval((()=>{A>=i.length?clearInterval(u):(c(A),A++)}),1e3);o.fitBounds(a.getBounds()),window.recordingCoords=r}catch(l){console.error("Error al mostrar el historial:",l),R().fire({title:"Error",text:`No se pudo mostrar el historial del dispositivo. Detalles: ${l.message}`,icon:"error",confirmButtonText:"Entendido"})}},C=()=>{if(!window.recordingCoords)return void R().fire({title:"Error",text:"Por favor, seleccione un dispositivo antes de reproducir el historial.",icon:"warning",confirmButtonText:"Entendido"});let e=0;r&&clearInterval(r),r=setInterval((()=>{if(e<window.recordingCoords.length){const a=window.recordingCoords[e];s.setLatLng(a),o.setView(a,o.getZoom()),e++}else clearInterval(r)}),mo)},b=async()=>{try{const e=await fetch("http://3.12.147.103/devices");if(!e.ok)throw new Error("Error en la respuesta de la API");const o=await e.json();p.value=o,g.value=p.value}catch(e){console.error("Error al cargar dispositivos:",e)}},w=()=>{r&&(clearInterval(r),r=null)},E=()=>{r&&clearInterval(r),s.setLatLng(window.recordingCoords[0]),o.setView(window.recordingCoords[0],o.getZoom())};return(0,n.hi)((()=>{clearTimeout(A)})),(0,n.sV)((()=>{k(),m(),b()})),(e,o)=>((0,n.uX)(),(0,n.CE)("section",lo,[o[11]||(o[11]=(0,n.Lk)("div",{class:"overlay"},null,-1)),(0,n.bF)(Le),(0,n.Lk)("div",io,[o[6]||(o[6]=(0,n.Lk)("div",{class:"hone2"},[(0,n.Lk)("h1",null,"Historial")],-1)),(0,n.Lk)("div",so,[(0,n.Lk)("div",ro,[(0,n.Lk)("button",{onClick:C,class:"control-button"},o[2]||(o[2]=[(0,n.Lk)("i",{class:"bx bx-play"},null,-1)])),(0,n.Lk)("button",{onClick:o[0]||(o[0]=(...o)=>e.stopRecording&&e.stopRecording(...o)),class:"control-button"},o[3]||(o[3]=[(0,n.Lk)("i",{class:"bx bx-stop"},null,-1)])),(0,n.Lk)("button",{onClick:w,class:"control-button"},o[4]||(o[4]=[(0,n.Lk)("i",{class:"bx bx-pause"},null,-1)])),(0,n.Lk)("button",{onClick:E,class:"control-button"},o[5]||(o[5]=[(0,n.Lk)("i",{class:"bx bx-reset"},null,-1)]))])])]),(0,n.Lk)("div",co,[(0,n.Lk)("div",Ao,[o[9]||(o[9]=(0,n.Lk)("h1",null,"Lista de Dispositivos",-1)),(0,n.Lk)("div",uo,[o[7]||(o[7]=(0,n.Lk)("svg",{class:"icon","aria-hidden":"true",viewBox:"0 0 24 24"},[(0,n.Lk)("g",null,[(0,n.Lk)("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"})])],-1)),(0,n.bo)((0,n.Lk)("input",{placeholder:"Buscar",type:"search",class:"input","onUpdate:modelValue":o[1]||(o[1]=e=>v.value=e),onInput:L},null,544),[[t.Jo,v.value]])]),(0,n.Lk)("div",vo,[(0,n.Lk)("ul",po,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(g.value,(e=>((0,n.uX)(),(0,n.CE)("li",{onClick:o=>f(e),key:e._id},[o[8]||(o[8]=(0,n.Lk)("i",{class:"bx bxs-car"},null,-1)),(0,n.eW)(" "+(0,i.v_)(e.deviceName),1)],8,go)))),128))])])]),o[10]||(o[10]=(0,n.Lk)("div",{id:"map",class:"map-container"},null,-1))])]))}};const fo=(0,U.A)(Lo,[["__scopeId","data-v-21ed0626"]]);var ho=fo;a(2577);const Co={class:"home"},bo={class:"crud"},wo={class:"listad"},Eo={class:"boton cssbuttons-io-button"},yo={class:"cruds"},Bo={class:"arriba"},Io={class:"group"},xo={class:"tabla"},Ro=["onClick"],So=["onClick"],Fo="Navify";var Ko={__name:"DispositivoView",setup(e){(0,l.KR)(!1);const o=(0,l.KR)(""),a=(0,l.KR)([]),s=(0,l.KR)("");let r,c=0,A=!1;const u=(0,n.EW)((()=>a.value.filter((e=>e.deviceName.toLowerCase().includes(o.value.toLowerCase()))))),d=()=>{const e=c;if(!A&&e<Fo.length){if(s.value=Fo.slice(0,e+1),c++,c===Fo.length)return void(r=setTimeout((()=>{A=!0,d()}),5e3))}else A&&e>0?(s.value=Fo.slice(0,e-1),c--):(A=!1,c=0);const o=A?100:200;r=setTimeout(d,o)},v=async()=>{try{const e=await fetch("http://3.12.147.103/devices");if(!e.ok)throw new Error("Error en la respuesta de la API");const o=await e.json();console.log("Respuesta de la API:",o),a.value=o}catch(e){console.error("Error al cargar dispositivos:",e)}},p=e=>{const o=a.value[e];R().fire({title:"Editar Dispositivo",html:` \n      <input id="nombre" class="swal2-input" placeholder="Nombre" value="${o.deviceName}">\n      <input id="responsable" class="swal2-input" placeholder="Responsable" value="${o.responsible}">\n      <input id="imei" class="swal2-input" placeholder="IMEI" value="${o.imei}">\n      <input id="telefono" class="swal2-input" placeholder="Teléfono" value="${o.phoneNumber||""}"> \x3c!-- Nuevo campo --\x3e\n      <input id="estatus" class="swal2-input" placeholder="Estatus" value="${o.status}">\n    `,focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Guardar",cancelButtonText:"Cancelar",preConfirm:()=>{const e=document.getElementById("nombre").value,o=document.getElementById("responsable").value,a=document.getElementById("imei").value,t=document.getElementById("telefono").value,n=document.getElementById("estatus").value;return e&&o&&a&&n?{deviceName:e,responsible:o,imei:a,phoneNumber:t,status:n}:(R().showValidationMessage("Por favor, complete todos los campos obligatorios."),!1)}}).then((t=>{t.isConfirmed&&fetch(`http://3.12.147.103/devices/${o._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.value)}).then((e=>{if(!e.ok)throw new Error("Error al editar dispositivo");return e.json()})).then((o=>{a.value.splice(e,1,o),console.log("Dispositivo editado:",o),R().fire("¡Dispositivo editado!","","success")})).catch((e=>{console.error("Error al editar dispositivo:",e),R().fire("Error","No se pudo editar el dispositivo","error")}))}))},g=e=>{const o=a.value[e];R().fire({title:"¿Estás seguro?",text:`¿Deseas eliminar el dispositivo ${o.deviceName}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Eliminar",cancelButtonText:"Cancelar"}).then((t=>{t.isConfirmed&&fetch(`http://3.12.147.103/devices/${o._id}`,{method:"DELETE"}).then((e=>{if(!e.ok)throw new Error("Error al eliminar dispositivo");return e.json()})).then((()=>{a.value.splice(e,1),console.log("Dispositivo eliminado:",o),R().fire("¡Dispositivo eliminado!","","success")})).catch((e=>{console.error("Error al eliminar dispositivo:",e),R().fire("Error","No se pudo eliminar el dispositivo","error")}))}))},m=async()=>{const{value:e}=await R().fire({title:"Agregar Dispositivo",html:' \n      <input id="nombre" class="swal2-input" placeholder="Nombre del dispositivo">\n      <input id="responsable" class="swal2-input" placeholder="Responsable">\n      <input id="imei" class="swal2-input" placeholder="IMEI">\n      <input id="telefono" class="swal2-input" placeholder="Teléfono"> \x3c!-- Nuevo campo --\x3e\n    ',focusConfirm:!1,showCancelButton:!0,confirmButtonText:"Agregar",cancelButtonText:"Cancelar",preConfirm:()=>{const e=document.getElementById("nombre").value,o=document.getElementById("responsable").value,t=document.getElementById("imei").value,n=document.getElementById("telefono").value;if(!e||!o||!t)return R().showValidationMessage("Por favor, complete todos los campos obligatorios."),!1;const l=a.value.find((e=>e.imei===t));return l?(R().showValidationMessage("El IMEI ya está en uso."),!1):{deviceName:e,responsible:o,imei:t,phoneNumber:n}}});e&&fetch("http://3.12.147.103/devices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw new Error("Error al agregar dispositivo");return e.json()})).then((e=>{a.value.push(e),R().fire("¡Dispositivo agregado!","","success")})).catch((e=>{console.error("Error al agregar dispositivo:",e),R().fire("Error","No se pudo agregar el dispositivo","error")}))};return(0,n.sV)((()=>{d(),v()})),(0,n.hi)((()=>{clearTimeout(r)})),(e,a)=>((0,n.uX)(),(0,n.CE)("section",Co,[a[8]||(a[8]=(0,n.Lk)("div",{class:"overlay"},null,-1)),(0,n.bF)(Le),(0,n.Lk)("div",bo,[a[7]||(a[7]=(0,n.Lk)("div",{class:"titu"},[(0,n.Lk)("h1",null,[(0,n.Lk)("i",{class:"bx bx-car icoon"}),(0,n.eW)(" Mis Dispositivos")])],-1)),(0,n.Lk)("div",wo,[a[3]||(a[3]=(0,n.Lk)("div",null,[(0,n.Lk)("h1",null,"Lista de Dispositivos")],-1)),(0,n.Lk)("div",Eo,[(0,n.Lk)("button",{onClick:a[0]||(a[0]=e=>m())},a[2]||(a[2]=[(0,n.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},[(0,n.Lk)("path",{fill:"currentColor",d:"M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"})],-1),(0,n.Lk)("span",null,"Agregar Dispositivo",-1)]))])]),(0,n.Lk)("div",yo,[(0,n.Lk)("div",Bo,[a[5]||(a[5]=(0,n.Lk)("div",null,[(0,n.Lk)("i",{class:"bx bx-location-plus iconD"})],-1)),(0,n.Lk)("div",Io,[a[4]||(a[4]=(0,n.Lk)("svg",{class:"icon","aria-hidden":"true",viewBox:"0 0 24 24"},[(0,n.Lk)("g",null,[(0,n.Lk)("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"})])],-1)),(0,n.bo)((0,n.Lk)("input",{placeholder:"Buscar",type:"search",class:"input","onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e)},null,512),[[t.Jo,o.value]])])]),(0,n.Lk)("div",xo,[(0,n.Lk)("table",null,[a[6]||(a[6]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Id"),(0,n.Lk)("th",null,"Dispositivo"),(0,n.Lk)("th",null,"Responsable"),(0,n.Lk)("th",null,"IMEI"),(0,n.Lk)("th",null,"Teléfono"),(0,n.Lk)("th",null,"Geozona"),(0,n.Lk)("th",null,"Ruta"),(0,n.Lk)("th",null,"Acción")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(u.value,((e,o)=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,i.v_)(o+1),1),(0,n.Lk)("td",null,(0,i.v_)(e.deviceName),1),(0,n.Lk)("td",null,(0,i.v_)(e.responsible),1),(0,n.Lk)("td",null,(0,i.v_)(e.imei),1),(0,n.Lk)("td",null,(0,i.v_)(e.phoneNumber),1),(0,n.Lk)("td",null,(0,i.v_)(e.geozoneName),1),(0,n.Lk)("td",null,(0,i.v_)(e.routeName),1),(0,n.Lk)("td",null,[(0,n.Lk)("i",{class:"bx bx-edit iconD",onClick:e=>p(o)},null,8,Ro),(0,n.Lk)("i",{class:"bx bx-trash iconD",onClick:e=>g(o)},null,8,So)])])))),128))])])])])])]))}};const Do=(0,U.A)(Ko,[["__scopeId","data-v-7db18c1c"]]);var Qo=Do,No=a(4323),Uo=(a(3246),a(6220));const To={class:"home"},Mo={class:"report"},Jo={class:"search-container"},Wo={class:"select"},Oo=["value"],Xo={key:0,class:"dropdown-menu"},jo=["onClick"],Po={class:"tabla"},Go={key:0},Vo="Navify";var zo={__name:"Reporte2View",setup(e){const o=(0,l.KR)([]),a=(0,l.KR)(!1),t=(0,l.KR)(null),s=(0,l.KR)("");(0,l.KR)(!1);let r,c=0,A=!1;const u=(0,l.KR)(!1),d=(0,l.KR)([]),v=async()=>{try{const e=await fetch("http://3.12.147.103/devices");if(!e.ok)throw new Error("Error en la respuesta de la API");const a=await e.json();o.value=a}catch(e){console.error("Error al cargar dispositivos:",e)}},p=async e=>{console.log("Dispositivo seleccionado:",e),e.imei?(t.value=e,a.value=!1,await C(e.imei)):console.error("IMEI del dispositivo no disponible")},g=()=>{a.value=!a.value},m=(0,l.KR)([{placa:"ABC123",notificacion:"Alerta de velocidad",fecha:"2023-10-01"},{placa:"XYZ456",notificacion:"Entrada a geozona",fecha:"2023-10-02"},{placa:"LMN789",notificacion:"Alerta de batería baja",fecha:"2023-10-03"},{placa:"DEF012",notificacion:"Reporte de actividad",fecha:"2023-10-04"},{placa:"GHI345",notificacion:"Salida de geozona",fecha:"2023-10-05"},{placa:"JKL678",notificacion:"Alerta de conexión",fecha:"2023-10-06"},{placa:"MNO901",notificacion:"Reporte de error",fecha:"2023-10-07"},{placa:"PQR234",notificacion:"Geozona activada",fecha:"2023-10-08"},{placa:"STU567",notificacion:"Alerta de movimiento",fecha:"2023-10-09"}]),k=(0,l.KR)(""),L=(0,n.EW)((()=>k.value?m.value.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(k.value.toLowerCase()))))):m.value)),f=()=>{u.value=!0;const e=new No.jsPDF,o=new Image;o.src=Uo,o.onload=()=>{e.addImage(o,"PNG",13,2,15,15),e.text("Reporte del dispositivo",13,27);const a=[["Notificación","Fecha"]],t=L.value.map((e=>[e.notificacion,e.fecha]));e.autoTable({head:a,body:t,startY:30,theme:"grid",headStyles:{fillColor:[22,160,133]},styles:{cellPadding:5,fontSize:10}}),e.save("reporte_dispositivo.pdf"),setTimeout((()=>{u.value=!1}),2e3)},o.onerror=()=>{console.error("Error al cargar la imagen."),u.value=!1}},h=()=>{const e=c;if(!A&&e<Vo.length){if(s.value=Vo.slice(0,e+1),c++,c===Vo.length)return void(r=setTimeout((()=>{A=!0,h()}),5e3))}else A&&e>0?(s.value=Vo.slice(0,e-1),c--):(A=!1,c=0);const o=A?100:200;r=setTimeout(h,o)},C=async e=>{if(e)try{const o=await fetch(`http://3.12.147.103/devices/alerts/${e}`);if(!o.ok){const e=await o.text();return void console.error("Error del servidor:",e)}const a=await o.json();console.log(a),d.value=a,d.value.sort(((e,o)=>new Date(o.alertTime)-new Date(e.alertTime))),a.alert&&z().warning({title:"Alerta",message:a.alert.alertName,position:"topRight",timeout:5e3})}catch(o){console.error("Error al cargar alertas:",o),d.value=[]}else console.error("IMEI no válido")};return(0,n.sV)((()=>{v(),h()})),(0,n.hi)((()=>{clearTimeout(r)})),(e,s)=>((0,n.uX)(),(0,n.CE)("section",To,[s[5]||(s[5]=(0,n.Lk)("div",{class:"overlay"},null,-1)),(0,n.bF)(Le),(0,n.Lk)("div",Mo,[s[4]||(s[4]=(0,n.Lk)("div",{class:"titu"},[(0,n.Lk)("h1",null,[(0,n.Lk)("i",{class:"bx bxs-report icoon"}),(0,n.eW)(" Reporte del Dispositivo")])],-1)),(0,n.Lk)("div",Jo,[(0,n.Lk)("div",{class:"group"},[(0,n.Lk)("button",{class:"button",type:"button",onClick:f},s[0]||(s[0]=[(0,n.Fv)('<span class="button__text" data-v-960057da>Download</span><span class="button__icon" data-v-960057da><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" id="bdd05811-e15d-428c-bb53-8661459f9307" data-name="Layer 2" class="svg" data-v-960057da><path d="M17.5,22.131a1.249,1.249,0,0,1-1.25-1.25V2.187a1.25,1.25,0,0,1,2.5,0V20.881A1.25,1.25,0,0,1,17.5,22.131Z" data-v-960057da></path><path d="M17.5,22.693a3.189,3.189,0,0,1-2.262-.936L8.487,15.006a1.249,1.249,0,0,1,1.767-1.767l6.751,6.751a.7.7,0,0,0,.99,0l6.751-6.751a1.25,1.25,0,0,1,1.768,1.767l-6.752,6.751A3.191,3.191,0,0,1,17.5,22.693Z" data-v-960057da></path><path d="M31.436,34.063H3.564A3.318,3.318,0,0,1,.25,30.749V22.011a1.25,1.25,0,0,1,2.5,0v8.738a.815.815,0,0,0,.814.814H31.436a.815.815,0,0,0,.814-.814V22.011a1.25,1.25,0,1,1,2.5,0v8.738A3.318,3.318,0,0,1,31.436,34.063Z" data-v-960057da></path></svg></span>',2)]))]),(0,n.Lk)("div",Wo,[(0,n.Lk)("input",{type:"text",readonly:"",value:t.value?t.value.deviceName:"Seleccione un dispositivo",onClick:g},null,8,Oo),(0,n.Lk)("i",{class:"arrow",onClick:g},"▼")]),a.value?((0,n.uX)(),(0,n.CE)("ul",Xo,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.imei,onClick:o=>p(e)},[s[1]||(s[1]=(0,n.Lk)("i",{class:"bx bxs-bus iconn"},null,-1)),(0,n.Lk)("span",null,(0,i.v_)(e.deviceName),1)],8,jo)))),128))])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",Po,[(0,n.Lk)("table",null,[s[3]||(s[3]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Notificación"),(0,n.Lk)("th",null,"Fecha")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.value,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e._id},[(0,n.Lk)("td",null,(0,i.v_)(e.alertName),1),(0,n.Lk)("td",null,(0,i.v_)((0,l.R1)(_)((0,l.R1)(Y)(e.alertTime))),1)])))),128)),0===d.value.length?((0,n.uX)(),(0,n.CE)("tr",Go,s[2]||(s[2]=[(0,n.Lk)("td",{colspan:"2"},"No hay alertas disponibles",-1)]))):(0,n.Q3)("",!0)])])])])]))}};const _o=(0,U.A)(zo,[["__scopeId","data-v-960057da"]]);var Yo=_o;a(7641);const Ho={class:"home"},qo={class:"tituloo"},Zo={class:"hone"},$o={class:"group"},ea={class:"device-list-container"},oa={class:"device-list"},aa=["onClick"],ta={class:"modal-content"},na={key:1,class:"modal"},la={class:"modal-content"},ia={class:"device-list-modal"},sa=["checked","onClick"];var ra={__name:"RutasView",setup(e){let o,a=[],s=null;const r=(0,l.KR)(""),c=(0,l.KR)([]),A=(0,l.KR)([]),u=(0,l.KR)("");let d="",v="";const p=(0,l.KR)(!1),g=(0,l.KR)(!1),m=(0,l.KR)([]),k=(0,l.KR)([]);delete we.Icon.Default.prototype._getIconUrl,we.Icon.Default.mergeOptions({iconRetinaUrl:ye,iconUrl:Be,shadowUrl:Ie}),(0,n.sV)((()=>{L(),f(),o=we.map("map").setView([10.9685,-74.7813],16),we.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(o),o.on("click",(function(e){const t=e.latlng;a.push(t),we.marker(t).addTo(o),a.length>1&&(s&&o.removeControl(s),s=we.Routing.control({waypoints:a,createMarker:function(){return null},routeWhileDragging:!0,geocoder:we.Control.Geocoder.nominatim()}).addTo(o))}));const e=document.getElementById("saveRoute");e&&e.addEventListener("click",(function(){p.value=!0}));const t=document.getElementById("clearRoute");t&&t.addEventListener("click",(function(){a=[],s&&(o.removeControl(s),s=null),o.eachLayer((function(e){e instanceof we.Marker&&o.removeLayer(e)}))}))}));const L=async()=>{try{const e=await fetch("http://3.12.147.103/routes");if(!e.ok)throw new Error("Error en la respuesta de la API");const o=await e.json();c.value=o,console.log("Rutas Cargadas:",c.value),A.value=c.value}catch(e){console.error("Error al cargar rutas:",e)}},f=async()=>{try{const e=await fetch("http://3.12.147.103/devices");if(!e.ok)throw new Error("Error en la respuesta de la API");const o=await e.json();m.value=o}catch(e){console.error("Error al cargar dispositivos:",e)}},h=()=>{const e=r.value.toLowerCase();A.value=c.value.filter((o=>o.name.toLowerCase().includes(e)))},C=async e=>{console.log("Ruta seleccionada:",e);try{const t=await xe.A.get(`http://3.12.147.103/routes/get-route/${e._id}`),n=t.data.waypoints;a=n.map((e=>we.latLng(e.lat,e.lng)));const l=a[0],i=a[a.length-1];console.log("Primer punto:",l),console.log("Último punto:",i),we.marker([l.lat,l.lng]).addTo(o).bindPopup("Inicio de la ruta: "+e.name).openPopup,we.marker([i.lat,i.lng]).addTo(o).bindPopup("Fin de la ruta: "+e.name).openPopup,s&&o.removeControl(s),s=we.Routing.control({waypoints:a,createMarker:function(){return null},routeWhileDragging:!0,geocoder:we.Control.Geocoder.nominatim()}).addTo(o)}catch(t){console.error("Error al cargar la ruta:",t.message),t.response?(console.error("Error data:",t.response.data),console.error("Error status:",t.response.status),console.error("Error headers:",t.response.headers),alert(`Error al cargar la ruta: ${t.response.data.error}`)):t.request?(console.error("Error request:",t.request),alert("Error al cargar la ruta: No se recibió respuesta del servidor.")):(console.error("Error message:",t.message),alert(`Error al cargar la ruta: ${t.message}`))}},b=()=>{p.value=!1},w=()=>{g.value=!1},E=async()=>{if(a.length>1){const t=a.map((e=>({lat:e.lat,lng:e.lng})));try{const e=await xe.A.post("http://3.12.147.103/routes/save-route",{name:u.value,waypoints:t});console.log("Ruta guardada:",e.data),v=u.value,d=e.data._id,R().fire({title:"Ruta guardada",text:"La ruta ha sido guardada exitosamente en la base de datos.",icon:"success",confirmButtonText:"OK"}),L(),u.value="",b(),a=[],o.eachLayer((function(e){e instanceof we.Marker&&o.removeLayer(e)})),g.value=!0}catch(e){console.error("Error al guardar la ruta:",e.message),e.response?(console.error("Error data:",e.response.data),console.error("Error status:",e.response.status),console.error("Error headers:",e.response.headers),alert(`Error al guardar la ruta: ${e.response.data.error}`)):e.request?(console.error("Error request:",e.request),alert("Error al guardar la ruta: No se recibió respuesta del servidor.")):(console.error("Error message:",e.message),alert(`Error al guardar la ruta: ${e.message}`))}}else alert("Primero debes crear la ruta antes de guardarla.")},y=e=>{const o=k.value.indexOf(e);-1===o?k.value.push(e):k.value.splice(o,1)},B=async()=>{try{const e=k.value.map((e=>e.imei)),o={name:v,imeis:e};console.log("Datos de la ruta a enviar con dispositivos:",o);const a=await xe.A.put(`http://3.12.147.103/devices/update-route/${d}`,o);console.log("Dispositivos actualizados:",a.data),R().fire({title:"Ruta asignada y dispositivos actualizados",text:"La ruta ha sido asignada y los dispositivos han sido actualizados exitosamente.",icon:"success",confirmButtonText:"OK"}),w()}catch(e){console.error("Error al asignar la ruta y actualizar los dispositivos:",e),R().fire({title:"Error",text:"Hubo un error al asignar la ruta y actualizar los dispositivos.",icon:"error",confirmButtonText:"OK"})}};return(e,o)=>((0,n.uX)(),(0,n.CE)("div",Ho,[o[7]||(o[7]=(0,n.Lk)("div",{class:"overlay"},null,-1)),(0,n.bF)(Le),o[8]||(o[8]=(0,n.Lk)("div",{id:"map",class:"map-container"},null,-1)),o[9]||(o[9]=(0,n.Lk)("div",{class:"hone2"},[(0,n.Lk)("h1",null,"Rutas")],-1)),(0,n.Lk)("div",qo,[(0,n.Lk)("div",Zo,[o[4]||(o[4]=(0,n.Lk)("h1",null,"Seleccionar Ruta",-1)),(0,n.Lk)("div",$o,[o[2]||(o[2]=(0,n.Lk)("svg",{class:"icon","aria-hidden":"true",viewBox:"0 0 24 24"},[(0,n.Lk)("g",null,[(0,n.Lk)("path",{d:"M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"})])],-1)),(0,n.bo)((0,n.Lk)("input",{placeholder:"Buscar",type:"search",class:"input","onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),onInput:h},null,544),[[t.Jo,r.value]])]),(0,n.Lk)("div",ea,[(0,n.Lk)("ul",oa,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(A.value,(e=>((0,n.uX)(),(0,n.CE)("li",{onClick:o=>C(e),key:e._id},[o[3]||(o[3]=(0,n.Lk)("i",{class:"bx bxs-map"},null,-1)),(0,n.eW)(" "+(0,i.v_)(e.name),1)],8,aa)))),128))])])])]),p.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal",onClick:(0,t.D$)(b,["self"])},[(0,n.Lk)("div",ta,[(0,n.Lk)("span",{class:"close",onClick:b},"×"),o[5]||(o[5]=(0,n.Lk)("h2",null,"Guardar Ruta",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>u.value=e),placeholder:"Nombre de la ruta",class:"inputt",onKeyup:(0,t.jR)(E,["enter"])},null,544),[[t.Jo,u.value]]),(0,n.Lk)("button",{onClick:E},"Guardar Ruta")])])):(0,n.Q3)("",!0),g.value?((0,n.uX)(),(0,n.CE)("div",na,[(0,n.Lk)("div",la,[(0,n.Lk)("span",{class:"close",onClick:w},"×"),o[6]||(o[6]=(0,n.Lk)("h2",null,"Seleccionar Dispositivo",-1)),(0,n.Lk)("ul",ia,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(m.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id,class:"device-item"},[(0,n.Lk)("input",{type:"checkbox",checked:k.value.includes(e),onClick:(0,t.D$)((o=>y(e)),["stop"])},null,8,sa),(0,n.eW)(" "+(0,i.v_)(e.deviceName),1)])))),128))]),(0,n.Lk)("button",{onClick:B,class:"create-button"},"Crear Ruta")])])):(0,n.Q3)("",!0),o[10]||(o[10]=(0,n.Lk)("div",{class:"btns"},[(0,n.Lk)("button",{id:"saveRoute",class:"boton"},"Guardar Ruta"),(0,n.Lk)("button",{id:"clearRoute",class:"boton"},"Limpiar")],-1))]))}};const ca=(0,U.A)(ra,[["__scopeId","data-v-0da0386c"]]);var Aa=ca;const ua=[{path:"/",redirect:"/Home"},{path:"/Home",name:"Home",component:be},{path:"/tiempo_real",name:"tiempo_real",component:Xe},{path:"/geozona",name:"geozona",component:no},{path:"/historial",name:"historial",component:ho},{path:"/dispositivo",name:"dispositivo",component:Qo},{path:"/barralateral",name:"Barralateral",component:I},{path:"/reporte2",name:"reporte2",component:Yo},{path:"/rutas",name:"rutas",component:Aa}],da=(0,S.aE)({history:(0,S.LA)("/"),routes:ua});var va=da;const pa={class:"login-container"},ga={class:"login-box"},ma={class:"logo"},ka=["src"],La={class:"input-group"},fa={class:"input-group"},ha="Descubre con Navify GPS";var Ca={__name:"LoginM",emits:["loginSuccess"],setup(e,{emit:o}){const s=o,r=(0,l.KR)(""),c=(0,l.KR)(""),A=(0,l.KR)("");let u=0;const d=async()=>{try{const e=await fetch("http://3.12.147.103/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.value,password:c.value})}),o=await e.json();e.ok?(localStorage.setItem("isAuthenticated","true"),va.push({name:"Home"}),s("loginSuccess")):R().fire({icon:"error",title:"Credenciales incorrectas",text:o.message||"Por favor, verifica tu usuario y contraseña"})}catch(e){console.error("Error:",e),R().fire({icon:"error",title:"Error del servidor",text:"No se pudo conectar con el servidor. Intenta nuevamente."})}},v=()=>{u<ha.length?(A.value+=ha.charAt(u),u++,setTimeout(v,100)):setTimeout((()=>{A.value="",u=0,v()}),5e3)};return(0,n.sV)((()=>{v()})),(e,o)=>((0,n.uX)(),(0,n.CE)("div",pa,[(0,n.Lk)("div",ga,[(0,n.Lk)("div",ma,[(0,n.Lk)("img",{src:a(6017),alt:"Satellite logo",class:"satellite-logo"},null,8,ka),o[2]||(o[2]=(0,n.Lk)("h1",null,"Inicia Sesión",-1))]),(0,n.Lk)("form",{onSubmit:(0,t.D$)(d,["prevent"]),class:"login-form"},[(0,n.Lk)("h2",{ref:"typedText",class:"typed-text"},(0,i.v_)(A.value),513),(0,n.Lk)("div",La,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),required:""},null,512),[[t.Jo,r.value]]),o[3]||(o[3]=(0,n.Lk)("label",null,"Correo electrónico",-1)),o[4]||(o[4]=(0,n.Lk)("i",{class:"fas fa-envelope"},null,-1))]),(0,n.Lk)("div",fa,[(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":o[1]||(o[1]=e=>c.value=e),required:""},null,512),[[t.Jo,c.value]]),o[5]||(o[5]=(0,n.Lk)("label",null,"Contraseña",-1)),o[6]||(o[6]=(0,n.Lk)("i",{class:"fas fa-lock"},null,-1))]),o[7]||(o[7]=(0,n.Lk)("button",{type:"submit",class:"login-btn"},[(0,n.eW)(" Iniciar Sesión "),(0,n.Lk)("i",{class:"fas fa-arrow-right"})],-1))],32)]),o[8]||(o[8]=(0,n.Lk)("div",{class:"map-overlay"},null,-1))]))}};const ba=Ca;var wa=ba,Ea={__name:"App",setup(e){const o=(0,l.KR)(!1);return(0,n.sV)((()=>{document.title="Navify","true"===localStorage.getItem("isAuthenticated")&&(o.value=!0)})),(e,a)=>o.value?((0,n.uX)(),(0,n.Wv)(I,{key:1})):((0,n.uX)(),(0,n.Wv)(wa,{key:0,onLoginSuccess:a[0]||(a[0]=e=>o.value=!0)}))}};const ya=Ea;var Ba=ya,Ia=a(6278),xa=(0,Ia.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}}),Ra=a.p+"img/gasolina.9805c94a.png",Sa=a.p+"img/maxSpeed.6d31c081.png",Fa=a.p+"img/accidente.edd55563.jpg";const Ka=new WebSocket("ws://3.12.147.103");Ka.onmessage=e=>{const o=JSON.parse(e.data);"maxSpeed"==o.notificationType?z().info({title:"Notificación",message:o.notificationName||"Nueva notificación",position:"bottomRight",image:Sa,timeout:5e3}):"control"==o.notificationType?z().info({title:"Notificación",message:o.notificationName||"Nueva notificación",position:"bottomRight",image:Ra,timeout:5e3}):"hardBraking"==o.notificationType?z().warning({title:"Notificación",message:o.notificationName||"Nueva notificación",position:"bottomRight",image:Fa,timeout:5e3}):"geozone"==o.notificationType&&z().info({title:"Notificación",message:o.notificationName||"Nueva notificación",position:"bottomRight",image:Ra,timeout:5e3})},Ka.onclose=()=>{console.log("WebSocket cerrado. Reintentando..."),setTimeout((()=>{const e=new WebSocket("ws://3.12.147.103");window.ws=e}),5e3)},Ka.onerror=e=>{console.error("Error en WebSocket:",e)},window.ws=Ka;const Da=(0,t.Ef)(Ba);Da.config.globalProperties.$ws=Ka,Da.use(xa).use(va).mount("#app")},6220:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAJXxAACV8QF/JC9kAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtBQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjcMAnQAAAO90Uk5TAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWltcXV5fYGFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+BgoOFhoiJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PGYKeepAAAHs0lEQVR42u3dZ5BTVRjG8SeXpffee+8d7IVkqzRpUgYQERAcGcuoYy8jDCooXYoCCoiAFGm77CZrGRtlwULvvfeuLLveRHYcPjhzNjn3nvO+J+/nbMj85n9uSe69ANGJTnSiE53oGDueDDf+lcyR65z9Byqnhg1w3hXnrCRnBWpsDvcvLXdCs9a013QJWGAh4NEeQNsGLLAQIFCArg1YYCFAogA9G7BguIAFFgIeKgD6NWCBhQCdArRrwAILAUoFaNaABcMFLLAQ8BAD0KgBCywEyBWgTwMWDBewwELAQxFAjwYssBCgWYAWDVhgIUC1AA0asGC4gHIAOQIewgCKG9AAQIaAigLW3pAnkNyeYAHbY6/LO5JVtwrCB8jeIlEg0lWgZiO41XeN/pYwggKAbdoIqNoNbvdepd5AhLvBHb4rWgh41CwBjQTUHQjt9F4mLRBpAcAu7yX1AkrPBXb7LhFuIPICbAHvRdUCis8G96gXUFoAsLfDBbUCyr8P2Oc9T7QBOQUEBc7RFJD2hch+pQI6fCV2oMNZig3IWgL2HPSeUSagx5eiKgV0KAA41OE0OQG53wof9p5SI+DRo4CgwEliDcj+XeCIGgFtCgCOek+QakD+L0NHvcfdF9CoAOCY9xihBpz4bfC4j5CAAwXYAt6jLgvo9vP4Cd8RKg049PP4Cd9hVwU8ei0Be076DtFowLELJE7FuimgXwG2gO8ghQYcvETmdOwBAgLOFRAU2O+WgKZXiZ2J26d9A04WEBTY646AttcJnpUqUIhcAcC5uD3yPms+WnuBHIHdcH50vlT2fPwuaDxOL4GQwE6jCwAuJOwwuoCgwHajCwAuJm4zuoCgwFZ2ALmbS0lbuS2B7FwKJG4xugDgctKfRhdgCzzyh9EFBAV+NxsAVzr+ZvISCAlsNroA4GqnTUYXEBTIMLoA4FrnjUYXYAt02WB0AUGB9eadDN0x17uu47AEIpjrXX81ugDgxqO/GF2ALdDtZ6MLCAr8xLeAAqMEXvRX9x/57gZHjBYR6PED3yUwfIyIQM/v+W4Eh70v8KK/e33HdyM49AMRgce+5bsbHDJWSCCd725w8DiBN7nZO8D3ZOiJj0QE+vj5ng4PGi8i0DeN7+nwwAlCAqlcCwAGTBT4ZJn9UrgWAPSfJCLQP5nv2WC/ySICA9bwPRvsO0VIYDXTJWBPn6kCArcGrmK5EQxN72kiAo+v5FoA0Gu6iMCgFVwLAHrOsEQElnMtAOghIpA1eBnHvcC/032miMCTS/kdB+RMt89EBIYs4VoA0HWWiMDQxVwLALrMziMgMGwR1wKAziIC2U8t5FoA0GmOiMDwrxjuBm9Pxy9EBEYsYLoE7EmaGyPwxk/PZ7oE7EkUEnhmHtcCgIR5IgIj53ItAIifLyTwOdcCgLgv8wq86tk5XAsAYoUEnpvNtQDAt0BE4PlZ/I4Dcsa7UOQe0Bc+1XsJRHKJzMNCAi/O5FoA8NAiEYGXZrDcCIbmwcX5BV718jSWG8HQPCAk8MonTJeAPfd/LSLw6lSWG8HQ3LekgMCrXpvCtQDgXiGB1ydzLQC4Z6mIwBuTuBYA3L2soMCr3pzItQDgLiGBtyZwLQBov1xE4O3x/I4DcqbdNyIPx3nnY25Hgv9NWyGBd8cxXQL2tFlRWOBV741luREMTWshgVEfOsIfAw2m1cpOAv9n2eisbK2WgMxP03JVEYFXjbnIciMYmhZCAmBbANB8ddFI/px8AUCzyATIFwA0XVPM6AKAJpEIMCgAaJxcnBKAA9MobAEPiwKAhikljC4AaBCmgIcLAOqnlDR3IxiBAJ8CgHprSxldAFDXVQH9CgDqpJY2dTd4e2rnXoBVAUCttDJGFwDUzK0AswKAGmlljd0LhCPgYVcAUN1fzuQlYE81f3lzN4KhqZoLAY4FAFX8FYwuIDcCWhWQmSntrSoHKhLcDWbGyxOoFKhEcDe4SaJARTEBzbYBMgUqBCoTPBCSK1CF4KGwTIHyTgo4dhwgU6BcelWCxwEyBcoGqhE8EnRTQM+zQZkCZdKrE/w+QKZA6UANgt8HuCeg68mQTIFS6TUJng7LFCgZqEXwdFiuQG1yBdgCCfIESvyfgNZfiGRIFCgeqEOuANkCdckVIFegWKAeuQLkChT116MHIFcgUJ/aEpAsUCTQgFwBcgUK+xuSK0C2QCNyBQQFbkl7r0JpjZQD5P6XoYx4iQL+xhROhx0UKOhvQq4AuQIF0pqSK0C2QDNyBcjdEuZPbUauAGCjTIG05pR2gw4I5EttQW0JSBdoSW0JSBbIm9qKXAFyBWLWtga96wTlCrQhV4BcgTwpbQleKSpXoB25AuQKWMmtyBUgWSCOXgFyBUCwAE0ElF4quzHxltEFABvUCyi+Wly9gOqrxZULKL9fQLWA+vsFFAtocMfIhsQsowuwBRKyjC5ArYAe9wwpFNDkrjF1ArrcNaZMQJv7BlUJ6HPjpCIBjW6cVHM8oNOts+tVCGh166wKAb1unlYgoNnN0+4L6Hb7vOsC2t0+77aAfg9QcFlAwwcouCug4yM0XBXQ8hEabgro+RAVFwU0fYqMewK6PkVmfZJLAjHHwv3Lm85+sHVJ0/MiOtGJTnSiE53oODn/APHUgwdlVXkKAAAAAElFTkSuQmCC"},8420:function(e){e.exports="data:image/png;base64,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"},6017:function(e,o,a){e.exports=a.p+"img/satellite.6ad517f0.png"}},o={};function a(t){var n=o[t];if(void 0!==n)return n.exports;var l=o[t]={exports:{}};return e[t].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(o,t,n,l){if(!t){var i=1/0;for(A=0;A<e.length;A++){t=e[A][0],n=e[A][1],l=e[A][2];for(var s=!0,r=0;r<t.length;r++)(!1&l||i>=l)&&Object.keys(a.O).every((function(e){return a.O[e](t[r])}))?t.splice(r--,1):(s=!1,l<i&&(i=l));if(s){e.splice(A--,1);var c=n();void 0!==c&&(o=c)}}return o}l=l||0;for(var A=e.length;A>0&&e[A-1][2]>l;A--)e[A]=e[A-1];e[A]=[t,n,l]}}(),function(){a.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(o,{a:o}),o}}(),function(){var e,o=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(t,n){if(1&n&&(t=this(t)),8&n)return t;if("object"===typeof t&&t){if(4&n&&t.__esModule)return t;if(16&n&&"function"===typeof t.then)return t}var l=Object.create(null);a.r(l);var i={};e=e||[null,o({}),o([]),o(o)];for(var s=2&n&&t;"object"==typeof s&&!~e.indexOf(s);s=o(s))Object.getOwnPropertyNames(s).forEach((function(e){i[e]=function(){return t[e]}}));return i["default"]=function(){return t},a.d(l,i),l}}(),function(){a.d=function(e,o){for(var t in o)a.o(o,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(o,t){return a.f[t](e,o),o}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{354:"14c7021b",668:"756aba08",838:"1eb43080"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){var e={},o="gps:";a.l=function(t,n,l,i){if(e[t])e[t].push(n);else{var s,r;if(void 0!==l)for(var c=document.getElementsByTagName("script"),A=0;A<c.length;A++){var u=c[A];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==o+l){s=u;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",o+l),s.src=t),e[t]=[n];var d=function(o,a){s.onerror=s.onload=null,clearTimeout(v);var n=e[t];if(delete e[t],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((function(e){return e(a)})),o)return o(a)},v=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(o,t){var n=a.o(e,o)?e[o]:void 0;if(0!==n)if(n)t.push(n[2]);else{var l=new Promise((function(a,t){n=e[o]=[a,t]}));t.push(n[2]=l);var i=a.p+a.u(o),s=new Error,r=function(t){if(a.o(e,o)&&(n=e[o],0!==n&&(e[o]=void 0),n)){var l=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+o+" failed.\n("+l+": "+i+")",s.name="ChunkLoadError",s.type=l,s.request=i,n[1](s)}};a.l(i,r,"chunk-"+o,o)}},a.O.j=function(o){return 0===e[o]};var o=function(o,t){var n,l,i=t[0],s=t[1],r=t[2],c=0;if(i.some((function(o){return 0!==e[o]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(r)var A=r(a)}for(o&&o(t);c<i.length;c++)l=i[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(A)},t=self["webpackChunkgps"]=self["webpackChunkgps"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],(function(){return a(1516)}));t=a.O(t)})();
//# sourceMappingURL=app.bbdbc5b7.js.map